(function(t){function e(e){for(var i,l,a=e[0],c=e[1],r=e[2],p=0,h=[];p<a.length;p++)l=a[p],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&h.push(n[l][0]),n[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,r||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,a=1;a<s.length;a++){var c=s[a];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},n={app:0},o=[];function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="app/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var r=0;r<a.length;r++)e(a[r]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0aa1":function(t,e,s){},"182e":function(t,e,s){"use strict";s("0aa1")},"22e2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("ac1f"),s("5319"),s("fb6a");var i=s("f2bf"),n=s("7a23"),o={class:"header",style:{"background-color":"#9D7987","text-align":"right"}},l={class:"container-fluid"},a={class:"row",style:{height:"50px"}},c={class:"col-6",style:{"text-align":"left"}},r=["src"],u={class:"col-6",style:{"justify-content":"right",display:"flex","align-items":"center"}},p=["src"],h={class:"mainArea",style:{margin:"auto"}},d=Object(n["f"])("div",{class:"footer",style:{"background-color":"#9D7987",padding:"30px 0"}},null,-1);function f(t,e,s,i,f,b){var g=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",o,[Object(n["f"])("div",l,[Object(n["f"])("div",a,[Object(n["f"])("div",c,[Object(n["f"])("img",{src:f.IMG_PATH+"icon_logo.png",onClick:e[0]||(e[0]=function(){return b.pushHome&&b.pushHome.apply(b,arguments)}),style:{width:"150px"}},null,8,r)]),Object(n["f"])("div",u,[Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("img",{src:this.$root.ICON_PATH+"user_"+this.userId+".jpg",style:{height:"45px","border-radius":"50%"}},null,8,p),Object(n["f"])("button",{type:"button",onClick:e[1]||(e[1]=Object(n["I"])((function(t){return b.pushLogout()}),["prevent","stop"])),style:{margin:"5px"},class:"btnBase"},"ログアウト")],512),[[n["E"],this.isLogin]])])])])]),Object(n["f"])("div",h,[Object(n["h"])(g)]),d],64)}var b=s("ea7b"),g=s("bc3a"),O=s.n(g),j={data:function(){return{API_SUCCESS:200,API_FAILED_LOGIN:99,API_FAILED_AUTH:100,API_FAILED_PARAM:300,API_FAILED_NODATA:400,API_FAILED_DUPLICATE:401,API_FAILED_MISMATCH:402,API_FAILED_PRIVATE:500,API_FAILED_FILE:600,API_FAILED_EXEPTION:900,isLogin:!1,userId:"",displayName:"",twitterId:"",IMG_PATH:"./app/img/",ICON_PATH:"/storage/icon/",CARD_PATH:"/storage/card/",SERVER_PATH:"https://iphone-taro.sakura.ne.jp/Watapupi/api/",ROOT_PATH:"https://iphone-taro.sakura.ne.jp/Watapupi/",DOMAIN_PATH:"iphone-taro.sakura.ne.jp",pageName:"",reloadValue:"",mainBg:"backgroundBase",mainBgs:{normal:"backgroundBase",correct:"backgroundCorrect",incorrect:"backgroundIncorrect"}}},mounted:function(){},computed:{dispTag:function(){return function(t){return"#"+t}},snsIcon:function(){return function(t){return null==t?"":(t=t.toLowerCase(),t.indexOf("youtube")>-1?"icon_youtube":t.indexOf("twitter")>-1?"icon_twitter":t.indexOf("twitch")>-1?"icon_twitch":"icon_page")}}},methods:{setBg:function(t){this.mainBg=this.mainBgs[t]},checkServerResponse:function(t){console.log(t.data);var e=t.data;return e["status"]==this.API_FAILED_AUTH?(console.log("未認証des"),this.isLogin=!1,this.$router.push("/"),!1):e["status"]!=this.API_SUCCESS?(this.$router.push({path:"/error",query:{errorCode:e["status"],message:e["errMsg"]}}),!1):(""==e["isLogin"]?this.isLogin=!1:(this.isLogin=!0,this.userId=e["isLogin"],this.twitterId=localStorage.twitterId,this.displayName=localStorage.displayName),console.log("BBBBBBBBBBBBB"),!0)},pushLogout:function(){var t=this;O.a.get(this.$root.SERVER_PATH+"logout").then((function(e){var s=e.data;console.log(s["status"]),t.$root.checkServerResponse(e)&&(Object(b["f"])(Object(b["c"])()),t.$router.push("/"),t.isLogin=!1)})).catch((function(t){alert(t)}))},pushTag:function(t){this.$router.push({name:"Top",query:{keyword:t,order:"0"}})},pushHome:function(){"Top"==this.$root.pageName?location.reload():this.$router.push("/")},reloadImgValue:function(){var t=new Date;this.reloadValue=t}}},m=(s("a169"),s("6b0d")),v=s.n(m);const _=v()(j,[["render",f]]);var x=_,y=s("6c02"),w={class:"top",style:{padding:"10px"}},L=Object(n["f"])("div",{style:{"text-align":"center"}},[Object(n["f"])("span",{class:"font_m"},"あなたに関するクイズを作成して、みんなにあなたのことをもっと知ってもらいましょう。")],-1),k=Object(n["f"])("div",{class:"sp_line_l"},null,-1),D=Object(n["f"])("p",{class:"font_xl"},"あなたのクイズ",-1),I=["src"],E=Object(n["f"])("div",{class:"sp_line_l"},null,-1),q={style:{width:"60%","background-color":"#ffffff",padding:"15px 10px",border:"solid 3px","border-radius":"10px",margin:"auto","box-shadow":"3px 3px 0px 0 rgba(0, 0, 0, .2)"}},T={key:0,class:"errMsg"},z=Object(n["f"])("br",null,null,-1),A=Object(n["f"])("div",{class:"grayBar"},null,-1),M=Object(n["f"])("p",{class:"font_m"},"アカウントを作成していない方はこちら",-1),C=Object(n["f"])("div",{class:"sp_line_s"},null,-1),$=Object(n["f"])("span",{class:"font_m",style:{"margin-left":"10px"}},[Object(n["f"])("a",{href:"#"},"利用規約"),Object(n["g"])("に同意します")],-1),S=Object(n["f"])("div",{class:"sp_line_s"},null,-1),R={class:"btnBase btnNegative",style:{width:"80%",margin:"auto"}},P=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),H=Object(n["f"])("p",{class:"font_xl"},"あなたのクイズ",-1),B=Object(n["f"])("div",{class:"sp_line_m"},null,-1),N={class:"input-group",style:{width:"70%",margin:"auto"}},U=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),V={class:"bo2",style:{padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"90%",margin:"auto"}},G=Object(n["f"])("span",{class:"font_m",style:{position:"absolute",top:"-10px",left:"20px","background-color":"#FFDDCE",padding:"0 10px"}},"人気のタグ",-1),Q={style:{display:"flex","flex-wrap":"wrap"}},F=["onClick"],Y=Object(n["g"])("   "),K=Object(n["f"])("br",null,null,-1),W={style:{"text-align":"right","margin-right":"20px"}},J=Object(n["g"])(" 並び順 :  "),X={style:{color:"gray",margin:"5px"}},Z=Object(n["g"])("  /  "),tt={style:{color:"gray",margin:"5px"}};function et(t,e,s,i,o,l){var a=this,c=Object(n["x"])("quiz-title-row"),r=Object(n["x"])("popup-window");return Object(n["s"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",w,[L,k,Object(n["H"])(Object(n["f"])("div",null,[D,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(o.myQuizDataList,(function(t,e){return Object(n["s"])(),Object(n["c"])(c,{key:e,rowData:t,index:e,onPushRowBtn:l.pushRowBtn},null,8,["rowData","index","onPushRowBtn"])})),128)),Object(n["f"])("button",{type:"button",class:"btnBase font_l",style:{width:"80%",padding:"10px 10px"},onClick:e[0]||(e[0]=function(t){return l.pushCreateQuiz()})},"新しくクイズを作る")],512),[[n["E"],this.$root.isLogin]]),Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("img",{src:this.$root.IMG_PATH+"top_senden.png",style:{width:"80%"}},null,8,I),E,Object(n["f"])("div",q,[o.errorMessageData.login?(Object(n["s"])(),Object(n["e"])("p",T,[Object(n["g"])("▼ "+Object(n["z"])(o.errorMessageData.login),1),z])):Object(n["d"])("",!0),Object(n["f"])("button",{class:"btnBase",type:"button",onClick:e[1]||(e[1]=function(t){return l.pushLogin(1)}),style:{width:"80%"}},"ログイン"),A,M,C,Object(n["f"])("div",null,[Object(n["H"])(Object(n["f"])("input",{type:"checkbox",id:"term",name:"term","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.isTerm=t}),style:{"vertical-align":"middle"}},null,512),[[n["B"],o.isTerm]]),$]),S,Object(n["H"])(Object(n["f"])("button",{class:"btnBase",type:"button",onClick:e[3]||(e[3]=function(t){return l.pushLogin(0)}),style:{width:"80%"}},"新規登録",512),[[n["E"],o.isTerm]]),Object(n["H"])(Object(n["f"])("p",R,"新規登録",512),[[n["E"],!o.isTerm]])])],512),[[n["E"],!this.$root.isLogin]]),P,H,B,Object(n["f"])("div",N,[Object(n["H"])(Object(n["f"])("input",{type:"text",style:{"border-right-width":"0px","border-radius":"6px 0 0 6px"},"onUpdate:modelValue":e[4]||(e[4]=function(t){return o.keyword=t}),class:"form-control bo2",placeholder:"名前、タグなど","aria-label":"名前、タグなど"},null,512),[[n["D"],o.keyword]]),Object(n["f"])("button",{class:"btnBase",type:"button",id:"button-addon2",onClick:e[5]||(e[5]=function(){return l.pushSearch&&l.pushSearch.apply(l,arguments)})},"検索")]),U,Object(n["H"])(Object(n["f"])("div",V,[G,Object(n["f"])("div",Q,[(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(this.hotTagList,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{style:{display:"flex"},key:e},[Object(n["f"])("span",{class:"link",onClick:Object(n["I"])((function(e){return l.pushTag(t.tag)}),["prevent","stop"])},Object(n["z"])(a.$root.dispTag(t.tag)),9,F),Y])})),128))])],512),[[n["E"],0!=this.hotTagList.length]]),K,Object(n["f"])("div",W,[J,Object(n["H"])(Object(n["f"])("span",{class:"link",onClick:e[6]||(e[6]=function(t){return l.pushOrder("0")}),style:{margin:"5px"}},"新着順",512),[[n["E"],"0"!=this.order]]),Object(n["H"])(Object(n["f"])("span",X,"新着順",512),[[n["E"],"0"==this.order]]),Z,Object(n["H"])(Object(n["f"])("span",{class:"link",onClick:e[7]||(e[7]=function(t){return l.pushOrder("1")}),style:{margin:"5px"}},"人気順",512),[[n["E"],"1"!=this.order]]),Object(n["H"])(Object(n["f"])("span",tt,"人気順",512),[[n["E"],"1"==this.order]])]),(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(this.dispDataList,(function(e,s){return Object(n["s"])(),Object(n["e"])("div",{key:s},[Object(n["h"])(c,{rowData:e,index:s,onPushRowIcon:t.pushRowIcon,onPushRowBtn:l.pushRowBtn},null,8,["rowData","index","onPushRowIcon","onPushRowBtn"])])})),128)),Object(n["H"])(Object(n["f"])("span",{onClick:e[8]||(e[8]=Object(n["I"])((function(){return l.pushNext&&l.pushNext.apply(l,arguments)}),["prevent","stop"])),class:"showMore",style:{width:"300px",display:"inline-block","margin-top":"10px",padding:"10px"}},"Show more",512),[[n["E"],1==this.isNext]])]),Object(n["h"])(r,{ref:"popup"},null,512)],64)}s("d3b7"),s("3ca3"),s("ddb0"),s("9861"),s("b0c0");var st={name:"Top",components:{},data:function(){return{pageIndex:1,isNext:!1,dispDataList:[],allQuizDataList:[],hotTagList:[],isTerm:!1,keyword:"",order:"0",myQuizDataList:[],show:!1,myQuizScoreList:{},modalLinkList:[],errorMessageData:{login:""}}},computed:{},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.show=window.scrollY>150}))},methods:{pushMyBtn:function(t){"COPY"==t&&this.$refs.popup.showModal("COPY")},pushCreateQuiz:function(){var t=this;console.log("in");var e=new URLSearchParams;e.append("displayName",this.$root.displayName),e.append("twitterId",this.$root.twitterId),console.log(this.$root.displayName),O.a.post(this.$root.SERVER_PATH+"createQuiz",e).then((function(e){var s=e.data;if(console.log(s),t.$root.checkServerResponse(e)){var i=s["quizId"];t.$router.push("/edit/"+i)}})).catch((function(t){alert(t)}))},pushRowBtn:function(t,e){if(console.log(t+" "+e),"SCORE"==t){console.log("IN");var s=this.myQuizDataList[e].quizId;if(console.log(this.myQuizScoreList[s]),null==this.myQuizScoreList[s])return void this.getScoreData(s);var i=this.myQuizScoreList[s],n=new Date(i["currentTime"]).getTime();if((n-(new Date).getTime())/1e3>300)return console.log("時間経過で再取得"),void this.getScoreData(s);console.log("使いまわし"),this.$refs.popup.modalScoreList=i["dataList"],this.$refs.popup.showModal("SCORE")}else if("COPY"==t)this.$refs.popup.body="URLをコピーしました",this.$refs.popup.showModal("COPY");else if("SHARE"==t);else if("PLAY"==t){var o=this.dispDataList[e],l=o["quiz_id"];this.$router.push("/play/"+l)}else if("LINK"==t){this.modalLinkList=[];var a=this.dispDataList[e];this.modalLinkList.push("https://twitter.com/"+a["twitterId"]),""!=a["url1"]&&this.modalLinkList.push(a["url1"]),""!=a["url2"]&&this.modalLinkList.push(a["url2"]),""!=a["url3"]&&this.modalLinkList.push(a["url3"]),this.$refs.popup.modalLinkList=this.modalLinkList,this.$refs.popup.showModal("LINK")}},getScoreData:function(t){var e=this;console.log("取得");var s=new URLSearchParams;s.append("quizId",t),O.a.post(this.$root.SERVER_PATH+"getScoreData",s).then((function(s){var i=s.data;e.$root.checkServerResponse(s)&&(console.log("aaaa"),e.myQuizScoreList[t]=i["scoreData"],console.log(i["scoreData"]),e.$refs.popup.modalScoreList=i["scoreData"]["dataList"],e.$refs.popup.showModal("SCORE"))})).catch((function(t){alert(t)}))},pushSearch:function(){console.log("search "+this.keyword);var t=Object.assign({},this.$route.query),e=this.keyword;t["keyword"]==e&&t["order"]==this.order?(console.log("Sおなじ"),this.initAction("0")):(console.log("Sちがう"),t["keyword"]=e,this.$router.push({query:t}))},pushTag:function(t){console.log("tag "+t);var e=Object.assign({},this.$route.query);e["keyword"]==t&&e["order"]==this.order?(console.log("Tおなじ"),this.initAction("0")):(console.log("Tちがう"),e["keyword"]=t,this.$router.push({query:e}))},pushOrder:function(t){var e=Object.assign({},this.$route.query);console.log("order "+t+" "+e["order"]),e["order"]==t?console.log("Oおなじ"):(console.log("Oちがう"),e["order"]=t,this.$router.push({query:e}))},initAction:function(){var t=this;this.allQuizDataList=[],this.myQuizScoreList=[];var e=Object.assign({},this.$route.query),s=e["keyword"],i=e["order"];console.log(s+" ---- "+i),null==s&&(s=""),null==i&&(i="0"),this.keyword=s,this.order=i;var n=new URLSearchParams;n.append("order",i),n.append("keyword",s),console.log("IN"),O.a.post(this.$root.SERVER_PATH+"getQuizList",n).then((function(e){var s=e.data;if(t.$root.checkServerResponse(e)){var i=s["myQuizList"];null!=i&&(t.myQuizDataList=i,t.$root.isLogin=!0),t.pageIndex=1,t.allQuizDataList=s.quizList,t.hotTagList=s.hotTags,t.dispList()}})).catch((function(t){alert(t)}))},dispList:function(){var t=10*this.pageIndex;t>this.allQuizDataList.length?(t=this.allQuizDataList.length,this.isNext=!1):this.isNext=!0,this.dispDataList=[];for(var e=0;e<t;e++)this.dispDataList.push(this.allQuizDataList[e])},pushNext:function(){this.pageIndex=this.pageIndex+1,this.dispList()},pushLogin:function(t){var e=this,s=new b["a"],i=Object(b["c"])();Object(b["d"])(i,b["b"]).then((function(){return Object(b["e"])(i,s).then((function(s){console.log(s);var i=s._tokenResponse.displayName,n=s._tokenResponse.screenName;console.log(i+" "+n+" "+s._tokenResponse.localId+" "+s._tokenResponse.photoUrl);var o=new URLSearchParams;o.append("twitterUID",s.user.providerData[0].uid),o.append("twitterIconUrl",s._tokenResponse.photoUrl),o.append("displayName",i),o.append("twitterId",n),0==t?o.append("kbn","NEW"):o.append("kbn","LOGIN"),O.a.post(e.$root.SERVER_PATH+"login",o).then((function(t){var s=t.data;if(s["status"]!=e.$root.API_FAILED_LOGIN)if(s["status"]!=e.$root.API_FAILED_NODATA){if(e.$root.checkServerResponse(t)){localStorage.setItem("twitterId",n),localStorage.setItem("displayName",i),e.$root.displayName=i,e.$root.twitterId=n;var o=s["myQuizList"];null!=o&&(e.myQuizDataList=o,console.log(e.myQuizDataList),e.$root.isLogin=!0)}}else e.errorMessageData.login="アカウントが作成されていません\n新規登録を行ってください";else e.errorMessageData.login="ログインに失敗しました"})).catch((function(t){alert(t)}))})).catch((function(t){console.log(t.response)}))})).catch((function(t){console.log(t.response)}))}},beforeRouteEnter:function(t,e,s){s((function(t){console.log("A"),t.initAction()}))},beforeRouteUpdate:function(t,e,s){s((function(t){console.log("B"),t.initAction()}))},watch:{$route:function(t,e){t["name"]==e["name"]&&"Top"==t["name"]?t.query["keyword"]!=e.query["keyword"]||t.query["order"]!=e.query["order"]?(console.log("C"),this.initAction()):null!=t.query["keyword"]&&null!=t.query["order"]||console.log("1EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE"):console.log("2EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE")}}};s("182e");const it=v()(st,[["render",et]]);var nt=it,ot=(s("a4d3"),s("e01a"),Object(n["f"])("br",null,null,-1)),lt={class:"edit"},at={class:"edit_frame"},ct=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"問題設定")],-1),rt={class:"container-fluid"},ut={class:"row"},pt={class:"col-5",style:{display:"flex"}},ht={class:"font_l"},dt={class:"col-7",style:{"text-align":"right"}},ft=["onClick"],bt=["onClick"],gt=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ot={class:"container-fluid"},jt=Object(n["f"])("p",{class:"font_m",style:{"text-align":"left"}},"問題文",-1),mt=["onUpdate:modelValue"],vt={style:{"text-align":"right"}},_t=["onClick"],xt=["onClick"],yt=Object(n["f"])("p",{class:"font_m",style:{"text-align":"left"}},"答え",-1),wt=["onUpdate:modelValue"],Lt=Object(n["f"])("div",{class:"sp_line_m"},null,-1),kt=Object(n["f"])("p",{class:"font_m",style:{"text-align":"left"}},"その他の選択肢 ※最低1つ設定",-1),Dt=["onUpdate:modelValue"],It=Object(n["f"])("div",{class:"sp_line_ss"},null,-1),Et=["onUpdate:modelValue"],qt=Object(n["f"])("div",{class:"sp_line_ss"},null,-1),Tt=["onUpdate:modelValue"],zt=Object(n["f"])("p",{class:"font_s"},"※出題時、選択肢の順番はランダムで入れ替わります。",-1),At={style:{"text-align":"right"}},Mt=["onClick","src"],Ct=Object(n["f"])("div",{class:"sp_line_m"},null,-1),$t=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),St={class:"edit_frame"},Rt=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"アイコン設定")],-1),Pt=["src"],Ht=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Bt=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Nt=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Ut={class:"edit_frame"},Vt=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"タイトル設定")],-1),Gt=Object(n["f"])("p",{class:"font_l"},"タイトル",-1),Qt=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ft=Object(n["f"])("br",null,null,-1),Yt=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Kt=Object(n["f"])("p",{class:"font_l"},"サブタイトル ※未入力可",-1),Wt=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Jt=Object(n["f"])("br",null,null,-1),Xt=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Zt=Object(n["f"])("p",{class:"font_m"},"表示例",-1),te=Object(n["f"])("div",{class:"sp_line_s"},null,-1),ee={class:"font_m"},se=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),ie={class:"edit_frame"},ne=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"ひとこと")],-1),oe=Object(n["f"])("p",{class:"font_m"},"簡単な自己紹介やクイズの内容",-1),le=Object(n["f"])("div",{class:"sp_line_s"},null,-1),ae=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),ce={class:"edit_frame"},re=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"タグ")],-1),ue=Object(n["f"])("p",{class:"font_m"},"5つまで設定できます。",-1),pe=Object(n["f"])("div",{class:"sp_line_s"},null,-1),he=Object(n["f"])("div",{class:"sp_line_s"},null,-1),de=Object(n["f"])("div",{class:"sp_line_s"},null,-1),fe=Object(n["f"])("div",{class:"sp_line_s"},null,-1),be=Object(n["f"])("div",{class:"sp_line_s"},null,-1),ge=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Oe={class:"edit_frame"},je=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"SNS設定")],-1),me=Object(n["f"])("p",{class:"font_m"},"ご自身のSNSおよびHPを設定してください。該当がない項目は空欄にしてください。",-1),ve=Object(n["f"])("div",{class:"sp_line_s"},null,-1),_e={class:"input-group mb-3"},xe=Object(n["f"])("span",{class:"input-group-text fc",id:"basic-addon3"},"URL1",-1),ye={class:"input-group mb-3"},we=Object(n["f"])("span",{class:"input-group-text fc",id:"basic-addon3"},"URL2",-1),Le={class:"input-group mb-3"},ke=Object(n["f"])("span",{class:"input-group-text fc",id:"basic-addon3"},"URL3",-1),De=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Ie={class:"edit_frame"},Ee=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"公開設定")],-1),qe={style:{"text-align":"left"}},Te={class:"form-check"},ze=Object(n["f"])("label",{class:"form-check-label font_m",for:"publishing1"}," 全体公開 ",-1),Ae=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Me={class:"form-check"},Ce=Object(n["f"])("label",{class:"form-check-label font_m",for:"publishing2"}," 限定公開（URLからのみ） ",-1),$e=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Se={class:"form-check"},Re=Object(n["f"])("label",{class:"form-check-label font_m",for:"publishing0"}," 非公開 ",-1),Pe=Object(n["f"])("br",null,null,-1),He=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Be={class:"edit_frame"},Ne=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"みんなの結果の履歴")],-1),Ue=Object(n["f"])("p",{class:"font_m"},[Object(n["g"])("これまでのみんなの結果を削除しますか？"),Object(n["f"])("br"),Object(n["g"])(" 残す場合、新しいクイズの結果と混在することになります")],-1),Ve=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ge={style:{"text-align":"left"}},Qe={class:"form-check"},Fe=Object(n["f"])("label",{class:"form-check-label font_m",for:"flexRadioDefault1"}," 履歴を残す ",-1),Ye=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ke={class:"form-check"},We=Object(n["f"])("label",{class:"form-check-label font_m",for:"flexRadioDefault2"}," 履歴を削除する ",-1),Je=Object(n["f"])("br",null,null,-1),Xe=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Ze={style:{"text-align":"center"}},ts=Object(n["f"])("div",{class:"sp_line_m"},null,-1),es={style:{"text-align":"center"}},ss=Object(n["f"])("br",null,null,-1),is=["src"],ns=Object(n["f"])("p",{style:{position:"absolute",right:"30px",top:"130px","font-size":"50px"}},[Object(n["f"])("b",null,"のワタクシゴト")],-1),os={style:{position:"absolute",right:"30px",bottom:"20px","font-size":"90px"}};function ls(t,e,s,i,o,l){var a=this,c=Object(n["x"])("popup-window");return Object(n["s"])(),Object(n["e"])(n["a"],null,[ot,Object(n["f"])("div",lt,[Object(n["f"])("div",at,[ct,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(this.questionList,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{key:e,style:{border:"2px solid #808080","border-radius":"10px",padding:"5px 0px","margin-bottom":"10px"}},[Object(n["f"])("div",rt,[Object(n["f"])("div",ut,[Object(n["f"])("div",pt,[Object(n["f"])("span",ht,[Object(n["f"])("b",null,Object(n["z"])(e+1)+"問目",1)])]),Object(n["f"])("div",dt,[Object(n["H"])(Object(n["f"])("span",{onClick:function(t){return l.pushRowBtn("UP",e)},style:{width:"60px","margin-right":"10px"},class:"link"},"▲ 1つ上に",8,ft),[[n["E"],0!=e]]),Object(n["H"])(Object(n["f"])("span",{onClick:function(t){return l.pushRowBtn("DOWN",e)},style:{width:"60px","margin-right":"10px"},class:"link"},"▼ 1つ下に",8,bt),[[n["E"],e!=a.questionList.length-1]])])])]),gt,Object(n["f"])("div",Ot,[Object(n["f"])("div",null,[jt,Object(n["H"])(Object(n["f"])("textarea",{id:"story",name:"story","onUpdate:modelValue":function(t){return a.questionList[e]["quiz_body"]=t},rows:"5",cols:"33",style:{width:"100%"},class:"fc"},null,8,mt),[[n["D"],a.questionList[e]["quiz_body"]]]),Object(n["f"])("div",vt,[Object(n["f"])("span",{class:"link",onClick:function(t){return l.pushRowBtn("TEMPLATE",e)}},"■ テンプレートから選択",8,_t),Object(n["f"])("span",{class:"link",onClick:function(t){return l.pushRowBtn("RANDOM",e)},style:{"margin-left":"10px"}},"■ ランダム",8,xt)]),yt,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":function(t){return a.questionList[e]["choices1"]=t},class:"form-control","aria-label":"Text input with radio button"},null,8,wt),[[n["D"],a.questionList[e]["choices1"]]]),Lt,kt,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":function(t){return a.questionList[e]["choices2"]=t},class:"form-control","aria-label":"Text input with radio button"},null,8,Dt),[[n["D"],a.questionList[e]["choices2"]]]),It,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":function(t){return a.questionList[e]["choices3"]=t},class:"form-control","aria-label":"Text input with radio button"},null,8,Et),[[n["D"],a.questionList[e]["choices3"]]]),qt,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":function(t){return a.questionList[e]["choices4"]=t},class:"form-control","aria-label":"Text input with radio button"},null,8,Tt),[[n["D"],a.questionList[e]["choices4"]]]),zt,Object(n["f"])("div",At,[Object(n["f"])("span",{onClick:function(t){return l.pushRowBtn("DELETE",e)},class:"link_red",src:a.$root.IMG_PATH+"btn_delete.png",style:{width:"60px"}},"◆ 削除",8,Mt)])]),Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(a.questionList[e]["errMsg"]),513),[[n["E"],""!=a.questionList[e]["errMsg"]]])])])})),128)),Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["questions"]),513),[[n["E"],""!=this.errMsg["questions"]]]),Ct,Object(n["H"])(Object(n["f"])("span",{class:"btnBase",style:{display:"inline-block",width:"100%","text-align":"center"},onClick:e[0]||(e[0]=function(){return l.pushAddQuestion&&l.pushAddQuestion.apply(l,arguments)})},"問題を追加",512),[[n["E"],this.questionList.length<30]])]),$t,Object(n["f"])("div",St,[Rt,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["icon"]),513),[[n["E"],""!=this.errMsg["icon"]]]),Object(n["f"])("img",{class:"icon",src:o.iconImgUrl,style:{width:"90px"}},null,8,Pt),Object(n["g"])(" "+Object(n["z"])(o.iconFileName)+" ",1),Object(n["f"])("input",{type:"file",onChange:e[1]||(e[1]=function(){return l.onFileChange&&l.onFileChange.apply(l,arguments)})},null,32),Ht,Object(n["f"])("span",{class:"btnBase",style:{display:"inline-block",width:"100%","text-align":"center"},onClick:e[2]||(e[2]=Object(n["I"])((function(t){return l.pushIcon(0)}),["prevent","stop"]))},"戻す"),Bt,Object(n["f"])("span",{class:"btnBase",style:{display:"inline-block",width:"100%","text-align":"center"},onClick:e[3]||(e[3]=Object(n["I"])((function(t){return l.pushIcon(1)}),["prevent","stop"]))},"Twitterアイコン")]),Nt,Object(n["f"])("div",Ut,[Vt,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["title"]),513),[[n["E"],""!=this.errMsg["title"]]]),Gt,Qt,Object(n["H"])(Object(n["f"])("input",{type:"text",class:"fc","onUpdate:modelValue":e[4]||(e[4]=function(t){return o.title=t}),style:{width:"100%"}},null,512),[[n["D"],o.title]]),Ft,Yt,Kt,Wt,Object(n["H"])(Object(n["f"])("input",{type:"text",class:"fc","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.subTitle=t}),style:{width:"100%"},placeholder:"例）第２弾、超難問、検定編"},null,512),[[n["D"],o.subTitle]]),Jt,Xt,Zt,te,Object(n["f"])("p",ee,Object(n["z"])(l.titleExample),1)]),se,Object(n["f"])("div",ie,[ne,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["description"]),513),[[n["E"],""!=this.errMsg["description"]]]),oe,le,Object(n["H"])(Object(n["f"])("textarea",{id:"story",name:"story","onUpdate:modelValue":e[6]||(e[6]=function(t){return o.description=t}),rows:"4",style:{width:"100%"}},null,512),[[n["D"],o.description]])]),ae,Object(n["f"])("div",ce,[re,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["tags"]),513),[[n["E"],""!=this.errMsg["tags"]]]),ue,pe,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.tags[0]=t}),style:{width:"50%"}},null,512),[[n["D"],o.tags[0]]]),he,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=function(t){return o.tags[1]=t}),style:{width:"50%"}},null,512),[[n["D"],o.tags[1]]]),de,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=function(t){return o.tags[2]=t}),style:{width:"50%"}},null,512),[[n["D"],o.tags[2]]]),fe,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=function(t){return o.tags[3]=t}),style:{width:"50%"}},null,512),[[n["D"],o.tags[3]]]),be,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=function(t){return o.tags[4]=t}),style:{width:"50%"}},null,512),[[n["D"],o.tags[4]]])]),ge,Object(n["f"])("div",Oe,[je,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["url3"]),513),[[n["E"],""!=this.errMsg["url3"]]]),me,ve,Object(n["f"])("div",_e,[xe,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=function(t){return o.url1=t}),class:"form-control",id:"basic-url","aria-describedby":"basic-addon3"},null,512),[[n["D"],o.url1]])]),Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["url1"]),513),[[n["E"],""!=this.errMsg["url1"]]]),Object(n["f"])("div",ye,[we,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=function(t){return o.url2=t}),class:"form-control",id:"basic-url","aria-describedby":"basic-addon3"},null,512),[[n["D"],o.url2]])]),Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["url2"]),513),[[n["E"],""!=this.errMsg["url2"]]]),Object(n["f"])("div",Le,[ke,Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=function(t){return o.url3=t}),class:"form-control",id:"basic-url","aria-describedby":"basic-addon3"},null,512),[[n["D"],o.url3]])])]),De,Object(n["f"])("div",Ie,[Ee,Object(n["H"])(Object(n["f"])("p",{class:"errMsg"},Object(n["z"])(this.errMsg["publishing"]),513),[[n["E"],""!=this.errMsg["publishing"]]]),Object(n["f"])("div",qe,[Object(n["f"])("div",Te,[Object(n["H"])(Object(n["f"])("input",{class:"form-check-input","onUpdate:modelValue":e[15]||(e[15]=function(t){return o.publishing=t}),value:"1",type:"radio",name:"publishing1",id:"publishing1"},null,512),[[n["C"],o.publishing]]),ze]),Ae,Object(n["f"])("div",Me,[Object(n["H"])(Object(n["f"])("input",{class:"form-check-input","onUpdate:modelValue":e[16]||(e[16]=function(t){return o.publishing=t}),value:"2",type:"radio",name:"publishing2",id:"publishing2"},null,512),[[n["C"],o.publishing]]),Ce]),$e,Object(n["f"])("div",Se,[Object(n["H"])(Object(n["f"])("input",{class:"form-check-input","onUpdate:modelValue":e[17]||(e[17]=function(t){return o.publishing=t}),value:"0",type:"radio",name:"publishing0",id:"publishing0",checked:""},null,512),[[n["C"],o.publishing]]),Re]),Pe])]),He,Object(n["f"])("div",Be,[Ne,Ue,Ve,Object(n["f"])("div",Ge,[Object(n["f"])("div",Qe,[Object(n["H"])(Object(n["f"])("input",{class:"form-check-input","onUpdate:modelValue":e[18]||(e[18]=function(t){return o.delScore=t}),value:"0",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"},null,512),[[n["C"],o.delScore]]),Fe]),Ye,Object(n["f"])("div",Ke,[Object(n["H"])(Object(n["f"])("input",{class:"form-check-input","onUpdate:modelValue":e[19]||(e[19]=function(t){return o.delScore=t}),value:"1",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"},null,512),[[n["C"],o.delScore]]),We]),Je])]),Xe,Object(n["f"])("div",Ze,[Object(n["f"])("button",{type:"button",class:"btnBase",style:{width:"200px"},onClick:e[20]||(e[20]=function(){return l.pushSave&&l.pushSave.apply(l,arguments)})},"保存する")]),ts,Object(n["f"])("div",es,[Object(n["f"])("button",{type:"button",class:"btnBase",style:{width:"200px"},onClick:e[21]||(e[21]=function(){return l.pushBack&&l.pushBack.apply(l,arguments)})},"戻る")]),ss]),Object(n["h"])(c,{ref:"popup",onPushTemp:l.pushTemp},null,8,["onPushTemp"]),Object(n["f"])("div",{id:"cardBody",style:Object(n["o"])("position:absolute; width:800px; height:418px; left:1500px; top:20px; border: 1px solid; background-image: url("+this.$root.IMG_PATH+"card/bg_card.png); background-repeat:repeat")},[Object(n["f"])("img",{class:"icon",src:o.iconImgUrl,style:{position:"absolute",left:"30px",top:"130px",width:"250px"}},null,8,is),Object(n["f"])("p",{style:Object(n["o"])("position:absolute; left:0px; margin:auto; transform:translate(0%, -50%); top:60px; font-size:"+l.cardTitleFont+"px; width:100%")},[Object(n["f"])("b",null,Object(n["z"])(o.title),1)],4),ns,Object(n["f"])("p",os,[Object(n["f"])("b",null,"全"+Object(n["z"])(o.questionList.length)+"問",1)])],4)],64)}s("e9c4"),s("498a"),s("a434");var as={name:"Edit",components:{},data:function(){return{cardStr:"",userId:"",quizId:"",title:"",subTitle:"",description:"",tags:["","","","",""],url1:"",url2:"",url3:"",publishing:0,delScore:0,iconFileName:"",iconImgUrl:"",iconFile:null,questionList:[],selTempIndex:0,errMsg:{icon:"",questions:"",title:"",description:"",tags:"",url1:"",url2:"",url3:"",publishing:""},lengths:{qBody:200,qChoice:50,title:30,description:100,tag:10,url:200}}},computed:{cardTitleFont:function(){var t=700/this.title.length;return console.log("font "+t),t>80&&(t=80),t},titleExample:function(){var t=this.title+"のワタクシゴト";return""!=this.subTitle&&(t=t+"（"+this.subTitle+"）"),t}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.show=window.scrollY>150}))},methods:{test:function(){console.log(JSON.stringify(this.questionList))},onFileChange:function(t){this.errMsg.icon="";var e=t.target.files||t.dataTransfer.files,s=e[0].size,i=e[0].type;s>1024e3?this.errMsg.icon="アイコンのサイズは1MB以下にしてください":"image/jpeg"==i||"image/png"==i?(console.log(s+" "+i),this.createImage(e[0]),this.iconFile=e[0],this.iconFileName=e[0].name):this.errMsg.icon="アイコンの形式はpngまたはjpegにしてください"},createImage:function(t){var e=this,s=new FileReader;s.onload=function(t){e.iconImgUrl=t.target.result},s.readAsDataURL(t)},pushIcon:function(t){this.$root.reloadValue=(new Date).getTime(),0==t?(this.iconFileName="",this.iconImgUrl=this.$root.ICON_PATH+"quiz_"+this.quizId+".jpg?"+this.$root.reloadValue):1==t&&(this.iconFileName="TWITTER",this.iconImgUrl=this.$root.ICON_PATH+"user_"+this.userId+".jpg?"+this.$root.reloadValue),this.iconFile=null},pushBack:function(){this.$router.push("/")},pushSave:function(){var t=this;console.log("pushSave"),this.title=this.title.trim(),this.description=this.description.trim(),this.tags[0]=this.tags[0].trim(),this.tags[1]=this.tags[1].trim(),this.tags[2]=this.tags[2].trim(),this.tags[3]=this.tags[3].trim(),this.tags[4]=this.tags[4].trim(),this.url1=this.url1.replace(" ",""),this.url2=this.url2.replace(" ",""),this.url3=this.url3.replace(" ","");for(var e=0;e<this.questionList.length;e++){var s=this.questionList[e];s["quiz_body"]=s["quiz_body"].trim(),s["choices1"]=s["choices1"].trim(),s["choices2"]=s["choices2"].trim(),s["choices3"]=s["choices3"].trim(),s["choices4"]=s["choices4"].trim()}for(var i=!0,n=0;n<this.errMsg.length;n++)this.errMsg[n]="";for(var o=0;o<this.questionList.length;o++)this.questionList["errMsg"]="";(this.publishing<0||this.publishing>2)&&(this.errMsg["publishing"]="正しく選択してください",i=!1),0!=this.publishing&&(""==this.title&&(this.errMsg["title"]="タイトルが未入力です",i=!1),""==this.description&&(this.errMsg["description"]="ひとことが未入力です",i=!1),0==this.questionList.length&&(this.errMsg["questions"]="公開または限定公開の場合は最低でも問題を１つ設定してください",i=!1)),this.title.length>this.lengths["title"]&&(this.errMsg["title"]="タイトルは"+this.lengths["title"]+"文字以内で入力してください",i=!1),this.title.length>this.lengths["description"]&&(this.errMsg["description"]="ひとことは"+this.lengths["description"]+"文字以内で入力してください",i=!1);for(var l=0;l<this.tags.length;l++)this.tags[l].length>this.lengths["tag"]&&(this.errMsg["tags"]="タグは"+this.lengths["tag"]+"文字以内で入力してください",i=!1);this.url1.length>this.lengths["url"]&&(this.errMsg["url1"]="URLは"+this.lengths["url"]+"文字以内で入力してください",i=!1),this.url2.length>this.lengths["url"]&&(this.errMsg["url2"]="URLは"+this.lengths["url"]+"文字以内で入力してください",i=!1),this.url3.length>this.lengths["url"]&&(this.errMsg["url3"]="URLは"+this.lengths["url"]+"文字以内で入力してください",i=!1);for(var a=0;a<this.questionList.length;a++){var c=this.questionList[a],r=!0;while(r)r=!1,""==c.choices3&&""!=c.choices4&&(c.choices3=c.choices4,c.choices4="",r=!0),""==c.choices2&&""!=c.choices3&&(c.choices2=c.choices3,c.choices3="",r=!0);0!=this.publishing&&(""==c.choices1&&(c["errMsg"]="答えを入力してください",i=!1),""==c.quiz_body&&(c["errMsg"]="問題文を入力してください",i=!1),""==c.choices2&&(c["errMsg"]="選択肢を1つ以上設定してください",i=!1)),c.quiz_body.length>this.lengths["qBody"]&&(c["errMsg"]="問題文は"+this.lengths["qBody"]+"文字以内で入力してください",i=!1),(c.choices1.length>this.lengths["qChoice"]||c.choices2.length>this.lengths["qChoice"]||c.choices3.length>this.lengths["qChoice"]||c.choices4.length>this.lengths["qChoice"])&&(c["errMsg"]="選択肢は"+this.lengths["qChoice"]+"文字以内で入力してください",i=!1)}i&&(0!=this.publishing?window.html2canvas(document.getElementById("cardBody"),{scale:1}).then((function(e){console.log(e.width+" "+e.height);var s=e.toDataURL("image/jpeg");s=s.replace(/^.*,/,""),t.cardStr=s,console.log(t.cardStr),t.updateData()})):(this.cardStr="",this.updateData()))},updateData:function(){var t=this;console.log(this.subTitle),console.log(this.description);var e=new FormData;e.append("card",this.cardStr),e.append("iconFile",this.iconFile),e.append("iconFileName",this.iconFileName),e.append("quiz_id",this.quizId),e.append("quiz_name",this.title),e.append("quiz_sub_name",this.subTitle),e.append("description",this.description),e.append("questions",this.questionList.length),e.append("url1",this.url1),e.append("url2",this.url2),e.append("url3",this.url3),e.append("publishing",this.publishing),e.append("tag1",this.tags[0]),e.append("tag2",this.tags[1]),e.append("tag3",this.tags[2]),e.append("tag4",this.tags[3]),e.append("tag5",this.tags[4]),e.append("questionData",JSON.stringify(this.questionList)),e.append("deleteScore",this.delScore);var s={headers:{"content-type":"multipart/form-data"}};console.log("IN"),O.a.post(this.$root.SERVER_PATH+"updateMyData",e,s).then((function(e){t.$root.checkServerResponse(e)&&(0==t.publishing?t.$refs.popup.body="更新が完了しました":1==t.publishing?t.$refs.popup.body="更新が完了しました\r\nクイズが一般公開されます":2==t.publishing&&(t.$refs.popup.body="更新が完了しました\r\nクイズが限定公開されます"),t.$refs.popup.showModal("UPDATE"),t.$root.reloadImgValue())}))},pushRowBtn:function(t,e){if(console.log(t+" - "+e),"UP"==t){var s=this.questionList[e-1];this.questionList[e-1]=this.questionList[e],this.questionList[e]=s}else if("DOWN"==t){var i=this.questionList[e+1];this.questionList[e+1]=this.questionList[e],this.questionList[e]=i}else if("DELETE"==t)this.questionList.splice(e,1);else if("TEMPLATE"==t)this.selTempIndex=e,this.$refs["popup"].showModal("CATEGORY");else if("RANDOM"==t){var n=this.$refs.popup.modalAllTemplateList,o=Math.floor(Math.random()*n.length);this.questionList[e]["quiz_body"]=n[o]["temp_body"]}console.log(this.questionList)},pushAddQuestion:function(){console.log("IN");var t={quiz_body:"",choices1:"",choices2:"",choices3:"",choices4:""};this.questionList.push(t)},pushTemp:function(t){this.questionList[this.selTempIndex]["quiz_body"]=t},initAction:function(){var t=this;console.log(this.$route.params.quizId);var e=new URLSearchParams;e.append("quizId",this.$route.params.quizId),O.a.post(this.$root.SERVER_PATH+"getEditData",e).then((function(e){var s=e.data;if(console.log(s),t.$root.checkServerResponse(e)){var i=s["baseQuizData"];t.userId=i["user_id"],t.iconImgUrl=t.$root.ICON_PATH+"quiz_"+t.$route.params.quizId+".jpg",t.questionList=s["questionList"],t.$refs.popup.modalAllTemplateList=s["tempList"],t.quizId=i["quiz_id"],console.log(t.quizId),t.title=i["quiz_name"],t.subTitle=i["quiz_sub_name"],t.description=i["description"],null==i["tag1"]?t.tags[0]="":t.tags[0]=i["tag1"],null==i["tag2"]?t.tags[1]="":t.tags[1]=i["tag2"],null==i["tag3"]?t.tags[2]="":t.tags[2]=i["tag3"],null==i["tag4"]?t.tags[3]="":t.tags[3]=i["tag4"],null==i["tag5"]?t.tags[4]="":t.tags[4]=i["tag5"],t.url1=i["url1"],t.url2=i["url2"],t.url3=i["url3"],t.publishing=i["publishing"],t.delScore=0,console.log(t.questionList)}})).catch((function(t){alert(t)}))}},beforeRouteEnter:function(t,e,s){s((function(t){t.initAction()}))},beforeRouteUpdate:function(t,e,s){s((function(t){t.initAction()}))}};const cs=v()(as,[["render",ls]]);var rs=cs,us=Object(n["f"])("br",null,null,-1),ps={class:"play",style:{width:"90%",margin:"auto"}},hs={style:{display:"flex"}},ds=["src"],fs={style:{width:"100%","text-align":"left","margin-left":"10px"}},bs={class:"font_m",style:{"background-color":"#ffffff",padding:"10px","border-radius":"5px"}},gs=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Os={id:"quiz",class:"moku"},js=Object(n["f"])("p",{class:"font_xl"},[Object(n["f"])("b",null,"クイズを開始します")],-1),ms=Object(n["f"])("div",{class:"sp_line_m"},null,-1),vs=Object(n["f"])("p",{class:"font_l"},"ニックネームを設定してください",-1),_s=Object(n["f"])("div",{class:"sp_line_m"},null,-1),xs={style:{width:"85%",margin:"auto"}},ys=Object(n["f"])("p",{class:"font_s",style:{"text-align":"center"}},"ニックネームは出題者が結果を見る際に表示されます",-1),ws=Object(n["f"])("div",{class:"sp_line_l"},null,-1),Ls=Object(n["f"])("div",{class:"sp_line_m"},null,-1),ks=Object(n["f"])("div",{class:"grayBar"},null,-1),Ds=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Is=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Es={class:"font_xl"},qs=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Ts={style:{border:"3px solid #808080",padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"100%",height:"150px",margin:"auto"}},zs=Object(n["f"])("span",{class:"font_l",style:{position:"absolute",top:"-15px",left:"20px","background-color":"#ffffff",padding:"0 10px"}},"問題",-1),As={class:"font_m"},Ms=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Cs={style:{position:"relative","z-index":"1"}},$s=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ss=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Rs=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ps=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Hs=Object(n["f"])("p",{class:"font_xl"},"結果発表",-1),Bs=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Ns={style:{border:"3px solid #808080",padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"100%",margin:"auto"}},Us=Object(n["f"])("span",{class:"font_l",style:{position:"absolute",top:"-15px",left:"50%",transform:"translate(-50%, 0%)","background-color":"#ffffff",padding:"0 10px"}},"得点",-1),Vs={style:{"text-align":"center"}},Gs=Object(n["f"])("span",{class:"score_num score_num_ten"},null,-1),Qs=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Fs=Object(n["f"])("div",{class:"sp_line_m"},null,-1),Ys=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ks=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Ws=Object(n["f"])("div",{class:"sp_line_s"},null,-1),Js=Object(n["f"])("div",{class:"sp_line_l"},null,-1),Xs={style:{border:"3px solid #808080",padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"100%","margin-top":"30px"}},Zs=Object(n["f"])("div",{class:"sp_line_l"},null,-1),ti=Object(n["f"])("span",{class:"font_l",style:{position:"absolute",top:"-15px",left:"20px","background-color":"#FFDDCE",padding:"0 10px"}},"答案一覧",-1),ei={class:"font_m"},si={class:"row"},ii={class:"col-3"},ni=["src"],oi=["src"],li={class:"col-9"},ai=Object(n["f"])("div",{class:"sp_line_ss"},null,-1),ci={class:"font_m",style:{color:"#7ed6df","text-align":"right"}},ri=Object(n["f"])("div",{class:"sp_line_ss"},null,-1),ui={class:"font_m",style:{color:"#ff7979","text-align":"right"}},pi=Object(n["f"])("div",{class:"grayBar"},null,-1),hi=Object(n["f"])("div",{class:"sp_line_l"},null,-1),di={style:{border:"3px solid #808080",padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"100%",margin:"auto"}},fi=Object(n["f"])("span",{class:"font_l",style:{position:"absolute",top:"-15px",left:"20px","background-color":"#FFDDCE",padding:"0 10px"}},"ひとこと",-1),bi={class:"font_m"},gi=Object(n["f"])("div",{class:"sp_line_l"},null,-1),Oi={style:{border:"3px solid #808080",padding:"15px 10px 10px","border-radius":"10px","text-align":"left",position:"relative",width:"100%",margin:"auto"}},ji=Object(n["f"])("span",{class:"font_l",style:{position:"absolute",top:"-15px",left:"20px","background-color":"#FFDDCE",padding:"0 10px"}},"リンク",-1),mi=["onClick"],vi={class:"col-10",style:{display:"flex"}},_i=["src"],xi={class:"font_s",style:{margin:"5px 0 0 10px"}},yi={class:"col-2",style:{"text-align":"right"}},wi=["src"],Li={class:"grayBar"},ki=Object(n["f"])("div",{class:"sp_line_xl"},null,-1),Di=["src"],Ii={style:{position:"absolute",right:"10px",top:"110px","font-size":"40px"}},Ei={style:{position:"absolute",right:"100px",bottom:"60px","font-size":"90px"}},qi={style:{position:"absolute",right:"100px",bottom:"20px","font-size":"30px"}},Ti=Object(n["f"])("div",{style:{position:"absolute",left:"10000px"}},[Object(n["f"])("div",{class:"backgroundCorrect",style:{position:"absolute",left:"100px",width:"100px",height:"100px"}}),Object(n["f"])("div",{class:"backgroundIncorrect",style:{position:"absolute",left:"200px",width:"100px",height:"100px"}})],-1);function zi(t,e,s,i,o,l){var a=this,c=Object(n["x"])("popup-window");return Object(n["s"])(),Object(n["e"])(n["a"],null,[us,Object(n["f"])("div",ps,[Object(n["f"])("div",null,[Object(n["f"])("div",hs,[Object(n["f"])("img",{src:this.$root.ICON_PATH+"quiz_"+this.quizData.quiz_id+".jpg?"+this.$root.reloadValue,style:{width:"50px",height:"50px"},class:"icon"},null,8,ds),Object(n["f"])("div",fs,[Object(n["f"])("p",bs,Object(n["z"])(this.quizData.quiz_name)+Object(n["z"])(l.quizSubName),1)])]),gs,Object(n["f"])("div",Os,[Object(n["f"])("div",null,[Object(n["H"])(Object(n["f"])("div",null,[js,ms,vs,_s,Object(n["f"])("div",xs,[Object(n["H"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.nickName=t}),style:{width:"100%"},placeholder:"ニックネームを入力してください"},null,512),[[n["D"],o.nickName]]),ys]),ws,Object(n["f"])("button",{type:"button",onClick:e[1]||(e[1]=function(t){return l.pushBtn("PLAY")}),class:"btnBase",style:{width:"200px"}},"プレイ"),Ls,ks,Ds,Object(n["f"])("button",{type:"button",onClick:e[2]||(e[2]=function(t){return l.pushBtn("PLAY_SECRET")}),class:"btnBase",style:{width:"200px"}},"匿名でプレイ"),Is],512),[[n["E"],0==o.qStatus]]),Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("p",Es,"第"+Object(n["z"])(this.qIndex+1)+"問",1),qs,Object(n["f"])("div",null,[Object(n["f"])("div",Ts,[zs,Object(n["f"])("span",As,Object(n["z"])(this.curQuestionData["quiz_body"]),1)]),Ms,Object(n["f"])("div",Cs,[Object(n["f"])("button",{type:"button",class:Object(n["n"])(["bo2 fc choice_base",o.choiceClasses[0]]),onClick:e[3]||(e[3]=function(t){return l.pushChoice(0)}),style:{width:"100%"}},Object(n["z"])(this.curQuestionData["choices1"]),3),$s,Object(n["f"])("button",{type:"button",class:Object(n["n"])(["bo2 fc choice_base",o.choiceClasses[1]]),onClick:e[4]||(e[4]=function(t){return l.pushChoice(1)}),style:{width:"100%"}},Object(n["z"])(this.curQuestionData["choices2"]),3),Ss,Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("button",{type:"button",class:Object(n["n"])(["bo2 fc choice_base",o.choiceClasses[2]]),onClick:e[5]||(e[5]=function(t){return l.pushChoice(2)}),style:{width:"100%"}},Object(n["z"])(this.curQuestionData["choices3"]),3),Rs],512),[[n["E"],""!=this.curQuestionData["choices3"]]]),Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("button",{type:"button",class:Object(n["n"])(["bo2 fc choice_base",o.choiceClasses[3]]),onClick:e[6]||(e[6]=function(t){return l.pushChoice(3)}),style:{width:"100%"}},Object(n["z"])(this.curQuestionData["choices4"]),3),Ps],512),[[n["E"],""!=this.curQuestionData["choices4"]]])])])],512),[[n["E"],1==o.qStatus]])]),Object(n["H"])(Object(n["f"])("div",null,[Hs,Bs,Object(n["f"])("div",Ns,[Us,Object(n["f"])("div",Vs,[Object(n["f"])("span",{class:Object(n["n"])(["score_num",l.score_num_100])},null,2),Object(n["f"])("span",{class:Object(n["n"])(["score_num",l.score_num_10])},null,2),Object(n["f"])("span",{class:Object(n["n"])(["score_num",l.score_num_1])},null,2),Gs]),Qs,Object(n["H"])(Object(n["f"])("p",{class:"font_s",style:{"text-align":"center"}},Object(n["z"])(this.questionList.length)+" 問中 "+Object(n["z"])(this.correctCount)+" 問 正解！",513),[[n["E"],o.qStatus>2]])]),Fs,Object(n["H"])(Object(n["f"])("div",null,[Object(n["f"])("button",{type:"button",onClick:e[7]||(e[7]=function(t){return l.pushBtn("SHARE")}),class:"btnBase",style:{width:"100%"}},"結果をシェアする"),Ys,Object(n["H"])(Object(n["f"])("button",{onClick:e[8]||(e[8]=function(t){return l.pushBtn("SHOW_RESULT")}),type:"button",class:"btnBase",style:{width:"100%"}},"答案を見る",512),[[n["E"],3==o.qStatus]]),Object(n["H"])(Object(n["f"])("button",{onClick:e[9]||(e[9]=function(t){return l.pushBtn("CLOSE_RESULT")}),type:"button",class:"btnBase",style:{width:"100%"}},"答案を閉じる",512),[[n["E"],4==o.qStatus]]),Ks,Object(n["f"])("button",{type:"button",onClick:e[10]||(e[10]=function(t){return l.pushBtn("RETRY")}),class:"btnBase",style:{width:"100%"}},"再挑戦する"),Ws,Object(n["f"])("button",{type:"button",onClick:e[11]||(e[11]=function(t){return l.pushBtn("TOP")}),class:"btnBase",style:{width:"100%"}},"TOPに戻る"),Js],512),[[n["E"],o.qStatus>2]])],512),[[n["E"],o.qStatus>1]])]),Object(n["H"])(Object(n["f"])("div",Xs,[Zs,ti,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(this.answerList,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{key:e},[Object(n["f"])("p",ei,"Q"+Object(n["z"])(e+1)+" "+Object(n["z"])(a.questionList[e]["quiz_body"]),1),Object(n["f"])("div",si,[Object(n["f"])("div",ii,[Object(n["H"])(Object(n["f"])("img",{src:a.$root.IMG_PATH+"play_chara_2.png",style:{width:"100px"}},null,8,ni),[[n["E"],0==t["isCorrect"]]]),Object(n["H"])(Object(n["f"])("img",{src:a.$root.IMG_PATH+"play_chara_1.png",style:{width:"100px"}},null,8,oi),[[n["E"],1==t["isCorrect"]]])]),Object(n["f"])("div",li,[ai,Object(n["f"])("p",ci,"選択 "+Object(n["z"])(t["select"]),1),ri,Object(n["f"])("p",ui,"答え "+Object(n["z"])(t["correct"]),1)])]),pi])})),128))],512),[[n["E"],4==o.qStatus]]),hi,Object(n["f"])("div",di,[fi,Object(n["f"])("span",bi,Object(n["z"])(this.quizData.description),1)]),gi,Object(n["f"])("div",Oi,[ji,(Object(n["s"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(this.linkList,(function(t,e){return Object(n["s"])(),Object(n["e"])("div",{key:e},[Object(n["f"])("div",{class:"row",onClick:function(t){return l.pushLink(e)},style:{cursor:"pointer"}},[Object(n["f"])("div",vi,[Object(n["f"])("img",{src:a.$root.IMG_PATH+a.$root.snsIcon(t)+".png",style:{width:"30px",height:"30px"}},null,8,_i),Object(n["f"])("span",xi,Object(n["z"])(t),1)]),Object(n["f"])("div",yi,[Object(n["f"])("img",{src:a.$root.IMG_PATH+"btn_link_arrow.png",style:{height:"30px"}},null,8,wi)])],8,mi),Object(n["H"])(Object(n["f"])("div",Li,null,512),[[n["E"],1!=a.linkList.length&&e!=a.linkList.length-1]])])})),128))]),ki])]),Object(n["f"])("div",{id:"cardBody",style:Object(n["o"])("position:absolute; width:800px; height:418px; left:1700px; top:20px; border: 1px solid; background-image: url("+this.$root.IMG_PATH+"card/bg_card.png); background-repeat:repeat")},[Object(n["f"])("img",{class:"icon",src:this.$root.ICON_PATH+"quiz_"+this.quizData.quiz_id+".jpg",style:{position:"absolute",left:"30px",top:"130px",width:"250px"}},null,8,Di),Object(n["f"])("p",{style:Object(n["o"])("position:absolute; left:0px; margin:auto; transform:translate(0%, -50%); top:60px; font-size:"+l.cardTitleFont+"px; width:100%")},[Object(n["f"])("b",null,Object(n["z"])(this.quizData.quiz_name),1)],4),Object(n["f"])("p",Ii,[Object(n["f"])("b",null,Object(n["z"])(t.cardQuizSubName),1)]),Object(n["f"])("div",null,[Object(n["f"])("p",Ei,[Object(n["f"])("b",null,Object(n["z"])(o.scoreValue)+"点",1)]),Object(n["f"])("p",qi,[Object(n["f"])("b",null,Object(n["z"])(o.questionList.length+" 問中 "+o.correctCount+" 正解"),1)])])],4),Object(n["h"])(c,{ref:"popup",onPushPlay:t.pushPlay},null,8,["onPushPlay"]),Ti],64)}var Ai={name:"Play",components:{},data:function(){return{playerId:"",nickName:"",quizData:[],questionList:[],curQuestionData:null,qIndex:0,isChoice:!1,choiceClasses:["choice_normal","choice_normal","choice_normal","choice_normal"],linkList:[],scoreValue:0,scoreDispValue:0,answerList:[],correctCount:0,qStatus:0,cardScore:"",cardResult:""}},mounted:function(){var t=this;this.$nextTick((function(){console.log(t.$refs)}))},computed:{score_num_100:function(){return 0==Math.floor(this.scoreDispValue/100)?"score_num_none":"score_num_1"},score_num_10:function(){var t=Math.floor(this.scoreDispValue/100),e=Math.floor((this.scoreDispValue-100*t)/10);return 0==e&&1!=t?"score_num_none":"score_num_"+e},score_num_1:function(){var t=Math.floor(this.scoreDispValue%10);return"score_num_"+t},quizSubName:function(){var t="のワタクシゴト";return""!=this.quizData.quiz_sub_name&&(t=t+"（"+this.quizData.quiz_sub_name+"）"),t},cardTitleFont:function(){if(null!=this.quizData["quiz_name"]){var t=700/this.quizData["quiz_name"].length;return console.log("font "+t+" "+this.quizData["quiz_name"]),t>80&&(t=80),t}return 10}},methods:{test:function(){this.isRadio=!this.isRadio},initAction:function(){var t=this,e=this.$route.params.quizId;if(""!=e&&20==e.length||this.$router.push("/"),null==localStorage.getItem("NICK_NAME")?(localStorage.setItem("NICK_NAME",""),this.nickName=""):this.nickName=localStorage.getItem("NICK_NAME"),null==localStorage.getItem("PLAYER_ID")){for(var s="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;n<30;n++){var o=i.substr(Math.floor(Math.random()*i.length),1);s+=o}console.log("id "+s),localStorage.setItem("PLAYER_ID",s),this.playerId=s}else this.playerId=localStorage.getItem("PLAYER_ID");console.log(this.nickName+"   "+this.playerId);var l=new URLSearchParams;l.append("quiz_id",e),O.a.post(this.$root.SERVER_PATH+"getQuizData",l).then((function(e){var s=e.data;t.$root.checkServerResponse(e)&&(t.quizData=s["quizData"],t.questionList=s["questionList"],t.linkList=[],t.linkList.push("https://twitter.com/"+t.quizData["twitterId"]),""!=t.quizData["url1"]&&t.linkList.push(t.quizData["url1"]),""!=t.quizData["url2"]&&t.linkList.push(t.quizData["url2"]),""!=t.quizData["url3"]&&t.linkList.push(t.quizData["url3"]),t.curQuestionData=t.questionList[0])}))},pushChoice:function(t){var e=this;if(console.log(this.$refs),1!=this.isChoice){this.isChoice=!0,console.log(this.curQuestionData["correct_no"]),this.choiceClasses[t]="choice_select",this.choiceClasses[this.curQuestionData["correct_no"]]="choice_correct";var s="";0==t?s=this.curQuestionData["choices1"]:1==t?s=this.curQuestionData["choices2"]:2==t?s=this.curQuestionData["choices3"]:3==t&&(s=this.curQuestionData["choices4"]);var i="";0==this.curQuestionData["correct_no"]?i=this.curQuestionData["choices1"]:1==this.curQuestionData["correct_no"]?i=this.curQuestionData["choices2"]:2==this.curQuestionData["correct_no"]?i=this.curQuestionData["choices3"]:3==this.curQuestionData["correct_no"]&&(i=this.curQuestionData["choices4"]);var n=0;this.curQuestionData["correct_no"]==t?(console.log("正解"),n=1,this.correctCount+=1,this.$root.setBg("correct")):(console.log("不正解"),this.$root.setBg("incorrect")),this.answerList.push({isCorrect:n,select:s,correct:i}),setTimeout((function(){e.qIndex==e.questionList.length-1?(0==e.correctCount?e.scoreValue=0:e.scoreValue=Math.ceil(e.correctCount/e.questionList.length*100),console.log("score "+e.scoreValue),e.scoreDispValue=0,window.html2canvas(document.getElementById("cardBody"),{scale:1}).then((function(t){e.$root.setBg("normal"),console.log(t.width+" "+t.height);var s=t.toDataURL("image/jpeg");s=s.replace(/^.*,/,"");var i=new FormData;i.append("quizId",e.quizData.quiz_id),i.append("playerId",e.playerId),i.append("nickName",e.nickName),i.append("card",s),i.append("score",e.correctCount),i.append("quizCount",e.questionList.length),O.a.post(e.$root.SERVER_PATH+"updateChallenge",i).then((function(t){console.log(t.data),e.qStatus=2,e.resultAnimation()})).catch((function(t){e.qStatus=2,alert(t),e.resultAnimation()}))}))):(e.qIndex++,e.choiceClasses=["choice_normal","choice_normal","choice_normal","choice_normal"],e.curQuestionData=e.questionList[e.qIndex],e.isChoice=!1,e.$root.setBg("normal"))}),2e3)}},resultAnimation:function(){if(0!=this.scoreValue){var t=function(){this.scoreDispValue++,console.log(this.scoreDispValue);var e=100;this.scoreDispValue!=this.scoreValue?(this.scoreDispValue>20?e=40:this.scoreDispValue>40?e=30:this.scoreDispValue>60?e=20:this.scoreDispValue>80&&(e=10),setTimeout(t,e)):this.qStatus=3}.bind(this);setTimeout(t,100)}else this.qStatus=3},pushBtn:function(t){"PLAY_SECRET"==t?(this.nickName="匿名",this.qStatus=1):"PLAY"==t?(localStorage.setItem("NICK_NAME",t),this.nickName=t,this.qStatus=1):"SHOW_RESULT"==t?this.qStatus=4:"CLOSE_RESULT"==t&&(this.qStatus=3)},pushAnswer:function(t){var e=this;console.log(t);for(var s=0,i=0;i<this.correctList.length;i++)"1"==this.correctList[i]&&s++;var n=Math.floor(s/this.questionList.length*100);this.resScore1=n,this.resScore2=this.questionList.length+"問中"+s+"問正解",window.html2canvas(document.getElementById("cardBody"),{scale:1}).then((function(t){console.log(t.width+" "+t.height);var s=t.toDataURL("image/jpeg");s=s.replace(/^.*,/,"");var i=new FormData;i.append("quiz_id",e.quizData.quiz_id),i.append("score",e.resScore1),i.append("card",s),O.a.post(e.$root.SERVER_PATH+"updateChallenge",i)})),this.isSelect=!1,this.checkIndex=0;var o=function(){var t="";t=this.checkIndex!=this.quizData.questions?"q"+this.checkIndex:"result";var e=document.getElementById(t),s=e.getBoundingClientRect(),i=s.top+window.pageYOffset;console.log(t+" "+i),console.log(window.pageYOffset),document.documentElement.scrollTop=i,console.log("a "+window.scrollY);var n=function(){if(console.log("b "+window.scrollY),this.checkIndex!=this.quizData.questions)this.answerList[this.checkIndex]==this.questionList[this.checkIndex]["correct_no"]?this.correctList.push("1"):this.correctList.push("0"),console.log("B"+this.checkIndex),this.checkIndex++,setTimeout(o,1e3);else{console.log("おわり"),this.checkKbn=1;var t=function(){this.checkKbn=2}.bind(this);setTimeout(t,1500)}}.bind(this);setTimeout(n,1e3)}.bind(this);o()},pushResult:function(t){if("SHARE"==t)console.log("SHARE");else if("DOWNLOAD"==t)console.log("DOWNLOAD");else if("RETRY"==t){this.answerList=[],this.correctList=[];for(var e=0;e<this.quizData["questions"];e++)this.answerList.push("0");this.checkKbn=0,this.isSelect=!0,window.scrollTo(0,0)}},pushLink:function(){var t=[];t.push("https://twitter.com/"+this.quizData["twitterId"]),""!=this.quizData["url1"]&&t.push(this.quizData["url1"]),""!=this.quizData["url2"]&&t.push(this.quizData["url2"]),""!=this.quizData["url3"]&&t.push(this.quizData["url3"]),this.$refs.popup.modalLinkList=t,this.$refs.popup.showModal("LINK")},hinan:function(){}},beforeRouteEnter:function(t,e,s){s((function(t){t.initAction()}))},beforeRouteUpdate:function(t,e,s){s((function(t){t.initAction()}))}};const Mi=v()(Ai,[["render",zi]]);var Ci=Mi,$i=Object(n["f"])("br",null,null,-1),Si={class:"error"};function Ri(t,e,s,i,o,l){var a=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["e"])(n["a"],null,[$i,Object(n["f"])("div",Si,[Object(n["f"])("h3",null,Object(n["z"])(o.errorMsg),1),Object(n["H"])(Object(n["h"])(a,{to:"/"},{default:Object(n["G"])((function(){return[Object(n["f"])("span",{onClick:e[0]||(e[0]=Object(n["I"])((function(){return l.pushHome&&l.pushHome.apply(l,arguments)}),["prevent","stop"]))},"Topに戻る")]})),_:1},512),[[n["E"],0!=t.index]])])],64)}var Pi={name:"Error",components:{},data:function(){return{errorMsg:""}},computed:{},mounted:function(){},methods:{pushHome:function(){this.$router.push("/")},initAction:function(){var t=Object.assign({},this.$route.query),e=t["errorCode"];e==this.$root.API_FAILED_PARAM?this.errorMsg="パラメータ異常を検知しました":e==this.$root.API_FAILED_NODATA&&(this.errorMsg="該当のクイズが存在しないか、非公開です")}},beforeRouteEnter:function(t,e,s){s((function(t){console.log("A"),t.initAction()}))},beforeRouteUpdate:function(t,e,s){s((function(t){t.initAction()}))}};const Hi=v()(Pi,[["render",Ri]]);var Bi=Hi,Ni=Object(n["f"])("br",null,null,-1),Ui={class:"test"},Vi={style:{position:"absolute",left:"1000px",top:"0"}},Gi=["src"];function Qi(t,e,s,i,o,l){return Object(n["s"])(),Object(n["e"])(n["a"],null,[Ni,Object(n["f"])("div",Ui,[Object(n["f"])("div",Vi,[Object(n["f"])("img",{src:this.$root.ICON_PATH+"LGMVWc6ExyN9P62R0c36.jpg",style:{width:"2000px"}},null,8,Gi)])])],64)}var Fi={name:"Test",components:{},data:function(){return{quizData:{user_id:"LGMVWc6ExyN9P62R0c36",quiz_name:"愛ふぉん太郎",questions:10},questionList:[]}},computed:{},mounted:function(){var t=document.createElement("script");t.setAttribute("src","https://html2canvas.hertzen.com/dist/html2canvas.js"),document.getElementById("scriptTag").appendChild(t)},methods:{ttt:function(){window.html2canvas(document.getElementById("downloadDiv")).then((function(t){console.log(t);var e=t.toDataURL("png");console.log(e);var s=document.getElementById("aaaa");console.log(s),s.href=e,s.download="test.png"}))},download:function(){var t=document.querySelector("canvas"),e=t.toDataURL("png"),s=document.getElementById("dddd");s.href=e,s.download="test.png"},initAction:function(){for(var t=[],e=10,s=0;s<e;s++){var i=Math.floor(4*Math.random()),n={quiz_id:this.quizData["quiz_id"],quiz_no:s,quiz_body:"質問文"+s,choices1:"選択肢1-"+s,choices2:"選択肢2-"+s,choices3:"選択肢3-"+s,choices4:"選択肢4-"+s,correct_no:i};t.push(n)}this.questionList=t}},beforeRouteEnter:function(t,e,s){s((function(t){t.initAction()}))},beforeRouteUpdate:function(t,e,s){s((function(t){t.initAction()}))}};const Yi=v()(Fi,[["render",Qi]]);var Ki=Yi,Wi=Object(n["f"])("br",null,null,-1),Ji={class:"result",style:{width:"90%",margin:"auto"}},Xi=Object(n["f"])("h1",null,"採点ありがとうございました",-1),Zi=Object(n["f"])("br",null,null,-1),tn=Object(n["f"])("div",null,[Object(n["f"])("blockquote",{class:"twitter-tweet","data-lang":"ja"},[Object(n["f"])("a",{href:"https://twitter.com/Interior/status/463440424141459456?ref_src=twsrc%5Etfw"})])],-1),en=Object(n["g"])("あいふぉんたろうさんの別の投稿"),sn={style:{display:"flex","flex-wrap":"wrap","justify-content":"center",margin:"auto"}},nn=Object(n["f"])("blockquote",{class:"twitter-tweet","data-lang":"ja"},[Object(n["f"])("a",{href:"https://twitter.com/Interior/status/463440424141459456?ref_src=twsrc%5Etfw"})],-1),on={style:{display:"flex","flex-wrap":"wrap"}},ln=Object(n["g"])("タグ1"),an=Object(n["g"])("タグ1"),cn=Object(n["g"])("タグ1"),rn=Object(n["f"])("br",null,null,-1),un=Object(n["g"])("採点する"),pn=Object(n["f"])("br",null,null,-1),hn=Object(n["f"])("br",null,null,-1),dn=Object(n["g"])("タグ「〇〇」の投稿を採点"),fn={style:{display:"flex","flex-wrap":"wrap","justify-content":"center",margin:"auto"}},bn=Object(n["f"])("blockquote",{class:"twitter-tweet","data-lang":"ja"},[Object(n["f"])("a",{href:"https://twitter.com/Interior/status/463440424141459456?ref_src=twsrc%5Etfw"})],-1),gn={style:{display:"flex","flex-wrap":"wrap"}},On=Object(n["g"])("タグ1"),jn=Object(n["g"])("タグ1"),mn=Object(n["g"])("タグ1"),vn=Object(n["f"])("br",null,null,-1),_n=Object(n["g"])("採点する"),xn=Object(n["f"])("br",null,null,-1),yn=Object(n["f"])("br",null,null,-1),wn=Object(n["g"])("タグ「××」の投稿を採点"),Ln={style:{display:"flex","flex-wrap":"wrap","justify-content":"center",margin:"auto"}},kn=Object(n["f"])("blockquote",{class:"twitter-tweet","data-lang":"ja"},[Object(n["f"])("a",{href:"https://twitter.com/Interior/status/463440424141459456?ref_src=twsrc%5Etfw"})],-1),Dn={style:{display:"flex","flex-wrap":"wrap"}},In=Object(n["g"])("タグ1"),En=Object(n["g"])("タグ1"),qn=Object(n["g"])("タグ1"),Tn=Object(n["f"])("br",null,null,-1),zn=Object(n["g"])("採点する"),An=Object(n["f"])("br",null,null,-1);function Mn(t,e,s,i,o,l){var a=Object(n["x"])("router-link");return Object(n["s"])(),Object(n["e"])(n["a"],null,[Wi,Object(n["f"])("div",Ji,[Xi,Zi,tn,Object(n["h"])(a,{to:"#",onClick:e[0]||(e[0]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"]))},{default:Object(n["G"])((function(){return[en]})),_:1}),Object(n["f"])("div",sn,[Object(n["f"])("div",null,[nn,Object(n["f"])("div",on,[Object(n["h"])(a,{to:"#",onClick:e[1]||(e[1]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[ln]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[2]||(e[2]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[an]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[3]||(e[3]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[cn]})),_:1})]),rn,Object(n["h"])(a,{to:"#",onClick:e[4]||(e[4]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#6ab04c",padding:"10px 30px"}},{default:Object(n["G"])((function(){return[un]})),_:1})])]),pn,hn,Object(n["h"])(a,{to:"#",onClick:e[5]||(e[5]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"]))},{default:Object(n["G"])((function(){return[dn]})),_:1}),Object(n["f"])("div",fn,[Object(n["f"])("div",null,[bn,Object(n["f"])("div",gn,[Object(n["h"])(a,{to:"#",onClick:e[6]||(e[6]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[On]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[7]||(e[7]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[jn]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[8]||(e[8]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[mn]})),_:1})]),vn,Object(n["h"])(a,{to:"#",onClick:e[9]||(e[9]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#6ab04c",padding:"10px 30px"}},{default:Object(n["G"])((function(){return[_n]})),_:1})])]),xn,yn,Object(n["h"])(a,{to:"#",onClick:e[10]||(e[10]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"]))},{default:Object(n["G"])((function(){return[wn]})),_:1}),Object(n["f"])("div",Ln,[Object(n["f"])("div",null,[kn,Object(n["f"])("div",Dn,[Object(n["h"])(a,{to:"#",onClick:e[11]||(e[11]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[In]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[12]||(e[12]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[En]})),_:1}),Object(n["h"])(a,{to:"#",onClick:e[13]||(e[13]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#95afc0",padding:"5px 10px 5px 10px",margin:"5px"}},{default:Object(n["G"])((function(){return[qn]})),_:1})]),Tn,Object(n["h"])(a,{to:"#",onClick:e[14]||(e[14]=Object(n["I"])((function(t){return l.pushMode(0)}),["prevent","stop"])),style:{"background-color":"#6ab04c",padding:"10px 30px"}},{default:Object(n["G"])((function(){return[zn]})),_:1})])]),An])],64)}var Cn={name:"Result",components:{},data:function(){return{langIndex:0,btnOn:"btn-primary",btnOff:"btn-secondary",pageIndex:1,searchWord:"",isNext:!1,searchLabel:"Top Games",dispDataList:[],filterDataList:[],allRowDataList:[],show:!1}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.show=window.scrollY>150}))},methods:{updateList:function(t){if(this.searchWord=t.target.value,""==this.searchWord)this.filterDataList=this.allRowDataList,this.searchLabel="Top Games ("+this.filterDataList.length+")";else{this.filterDataList=[];for(var e=0;e<this.allRowDataList.length;e++){var s=this.allRowDataList[e];s["name"].toUpperCase().indexOf(this.searchWord.toUpperCase())>-1&&this.filterDataList.push(s)}this.searchLabel="Search '"+this.searchWord+"' ("+this.filterDataList.length+")"}console.log(this.searchLabel),this.pageIndex=1,this.dispList()},dispList:function(){var t=40*this.pageIndex;t>this.filterDataList.length?(t=this.filterDataList.length,this.isNext=!1):this.isNext=!0,this.dispDataList=[];for(var e=0;e<t;e++)this.dispDataList.push(this.filterDataList[e])},pushNext:function(){this.pageIndex=this.pageIndex+1,this.dispList()},moveTop:function(){window.scrollTo(0,0)},pushMode:function(t){this.$root.mode=t,localStorage.mode=t},pushLang:function(t){this.langIndex=t,console.log(t)},getGameList:function(){var t=this;document.getElementById("collapse1").classList.remove("show"),document.getElementById("collapse2").classList.remove("show"),O.a.get(this.$root.SERVER_PATH+"getGames").then((function(e){var s=e.data;console.log(s),t.allRowDataList=[],t.allRowDataList=s["retList"],t.filterDataList=t.allRowDataList,t.searchLabel="Top Games ("+t.filterDataList.length+")",t.pageIndex=1;for(var i=0,n=0;n<t.allRowDataList.length;n++)i+=t.allRowDataList[n]["order"];console.log(i+"ハイシ"),t.dispList()})).catch((function(t){console.log(t.response)}))}},beforeRouteEnter:function(t,e,s){s((function(t){t.$root.pageName="Top",t.getGameList()}))},beforeRouteUpdate:function(t,e,s){s((function(t){t.$root.pageName="Top",t.getGameList()}))}};const $n=v()(Cn,[["render",Mn]]);var Sn=$n,Rn=[{path:"/",name:"Top",component:nt},{path:"/edit/:quizId",name:"Edit",component:rs},{path:"/play/:quizId",name:"Play",component:Ci},{path:"/error",name:"Error",component:Bi},{path:"/test",name:"Test",component:Ki},{path:"/result",name:"Result",component:Sn}],Pn=Object(y["a"])({history:Object(y["b"])(),routes:Rn}),Hn=Pn,Bn=s("260b"),Nn=s("000b"),Un={apiKey:"AIzaSyCruok67z0XCA0-gT1rsfEYXGpKNh_Jmzo",authDomain:"yumedroptest.firebaseapp.com",projectId:"yumedroptest",storageBucket:"yumedroptest.appspot.com",messagingSenderId:"187826579705",appId:"1:187826579705:web:9d17952ab16d5e7df01a28",measurementId:"G-9ZHF6VPTBV"},Vn=Object(Bn["a"])(Un);Object(Nn["a"])(Vn);var Gn={props:["rowData","index"],template:'\n\t<div style="padding:0 10px;">\n\t\t<div class="moku">\n\t\t<div>\n\t\t\t<div style="display:flex; justify-content: center;align-items: center; text-align:left">\n\t\t\t\t<img :src="this.$root.ICON_PATH + \'quiz_\' + this.rowData.quiz_id + \'.jpg?\' + this.$root.reloadValue" style="width:50px; height:50px" class="icon">\n\t\t\t\t<span class="font_l" style="padding-left:10px;"><b>『{{ rowData.quiz_name }}』&nbsp;{{ quizSubName }}</b></span>\n\t\t\t</div>\n\t\t\t<div style="height:20px" />\n\t\t\t<div style="display:flex">\n\t\t\t\t<div class="bo2"  style="padding:15px 10px 10px; border-radius:10px; text-align:left; position:relative; width:90%; margin:auto; height:100px">\n\t\t\t\t\t<span class="font_m" style="position:absolute; top:-10px; left:20px; background-color:#ffffff; padding:0 10px">ひとこと</span>\n\t\t\t\t\t<span class="font_m">{{ this.rowData.description }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="bo2" style="padding:10px 10px 0px; border-radius:10px; text-align:left; width:150px; margin-left:10px; height:100px">\n\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_quiz_count.png\'" style="width:20px; height:20px">:\n\t\t\t\t\t<span class="font_m">{{ this.rowData.questions }}問</span>\n\t\t\t\t\t<div class="sp_line_ss" />\n\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_quiz_challenge.png\'" style="width:20px; height:20px">:\n\t\t\t\t\t<span class="font_m">{{ this.rowData.challenge_count }}人</span>\n\t\t\t\t\t<div class="sp_line_ss" />\n\t\t\t\t\t<img v-show="this.rowData.twitter_id != \'\'" :src="this.$root.IMG_PATH + \'icon_twitter.png\'" style="width:20px;margin-right:5px">\n\t\t\t\t\t<img v-show="this.rowData.url1 != \'\'" :src="this.$root.IMG_PATH + this.$root.snsIcon(this.rowData.url1) + \'.png\'" style="width:20px;margin-right:5px">\n\t\t\t\t\t<img v-show="this.rowData.url2 != \'\'" :src="this.$root.IMG_PATH + this.$root.snsIcon(this.rowData.url2) + \'.png\'" style="width:20px;margin-right:5px">\n\t\t\t\t\t<img v-show="this.rowData.url3 != \'\'" :src="this.$root.IMG_PATH + this.$root.snsIcon(this.rowData.url3) + \'.png\'" style="width:20px;margin-right:5px">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="sp_line_m" />\n\t\t\t<div style="display:flex; flex-wrap:wrap;" v-show="this.rowData.tag1 != \'\'">\n\t\t\t\t<span v-on:click="this.$root.pushTag(this.rowData.tag1)" v-show="this.rowData.tag1 != \'\' && this.rowData.tag1 != null" class="link">{{ this.$root.dispTag(this.rowData.tag1) }}</span>\n\t\t\t\t<span v-on:click="this.$root.pushTag(this.rowData.tag2)" v-show="this.rowData.tag2 != \'\' && this.rowData.tag2 != null" class="link" style="margin-left:20px">{{ this.$root.dispTag(this.rowData.tag2) }}</span>\n\t\t\t\t<span v-on:click="this.$root.pushTag(this.rowData.tag3)" v-show="this.rowData.tag3 != \'\' && this.rowData.tag3 != null" class="link" style="margin-left:20px">{{ this.$root.dispTag(this.rowData.tag3) }}</span>\n\t\t\t\t<span v-on:click="this.$root.pushTag(this.rowData.tag4)" v-show="this.rowData.tag4 != \'\' && this.rowData.tag4 != null" class="link" style="margin-left:20px">{{ this.$root.dispTag(this.rowData.tag4) }}</span>\n\t\t\t\t<span v-on:click="this.$root.pushTag(this.rowData.tag5)" v-show="this.rowData.tag5 != \'\' && this.rowData.tag5 != null" class="link" style="margin-left:20px">{{ this.$root.dispTag(this.rowData.tag5) }}</span>\n\t\t\t</div>\n\t\t\t<div class="sp_line_m" />\n\t\t\t<div v-show="this.rowData.isMyData" class="col-12 font_s" style="text-align:right">\n\t\t\t\t<div style="text-align:right">\n\t\t\t\t\t公開状況：\n\t\t\t\t\t<span v-show="this.rowData.publishing == 0">非公開</span>\n\t\t\t\t\t<span v-show="this.rowData.publishing == 1">公開</span>\n\t\t\t\t\t<span v-show="this.rowData.publishing == 2">限定公開</span>\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t最終更新日：{{ createDate }} \n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:center">\n\t\t\t\t\t<div class="col-3">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btnicon_edit.png\'" style="width:30px; cursor:pointer" v-on:click="pushBtn(\'EDIT\')">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-3">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btnicon_rank.png\'" style="width:30px; cursor:pointer" v-on:click="pushBtn(\'SCORE\')">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-3">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btnicon_copy.png\'" style="width:30px; cursor:pointer" v-on:click="pushBtn(\'COPY\')">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-3">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btnicon_twitter.png\'" style="width:30px; cursor:pointer" v-on:click="pushBtn(\'SHARE\')">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="sp_line_l" />\n\t\t\t</div>\n\t\t\t<div class="row" v-show="!this.rowData.isMyData" style="text-align:center">\n\t\t\t\t<div class="col-6">\n\t\t\t\t\t<button type="button" v-on:click="pushBtn(\'LINK\')" class="btnBase" style="width:125px">LINKを見る</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-6">\n\t\t\t\t\t<button type="button" v-on:click="pushBtn(\'PLAY\')" class="btnBase" style="width:125px">挑戦する</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="sp_line_m" />\n\t\t\t\t<div style="text-align:right">\n\t\t\t\t\t<span class="font_s">最終更新日：{{ createDate }}</span>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t</div>\n\t<br>',data:function(){return{}},computed:{quizSubName:function(){var t="のわたぷぴ";return""!=this.rowData.quiz_sub_name&&(t=t+"（"+this.rowData.quiz_sub_name+"）"),t},createDate:function(){var t=new Date(this.rowData.created_at),e=t.getFullYear(),s=t.getMonth()+1,i=t.getDate();return e+"/"+s+"/"+i},iconUrl:function(){var t=this.rowData.icon;return t=t.replace("{width}","200"),t=t.replace("{height}","266"),t}},methods:{pushBtn:function(t){if(console.log("pushBtn"+t),"EDIT"==t)return console.log(this.rowData.quiz_id),void this.$router.push("/edit/"+this.rowData.quiz_id);this.$emit("pushRowBtn",t,this.index)}}},Qn={props:[],template:'\n\t<div id="overlay" v-show="isShowModal" v-on:click="closeOverlay($event)">\n\t\t<div id="content" style="text-align:center;" class="moku">\n\t\t<div>\n\t\t\t<p class="font_xl">{{ modalTitle }}</p>\n\t\t\t<div class="sp_line_xl" />\n\t\t\t<div v-show="this.body != \'\'">\n\t\t\t\t<div style="text-align:center; white-space: pre-line;" class="font_m">{{ this.body }}</div>\n\t\t\t</div>\n\t\t\t<div v-show="kbn == \'SCORE\'" style="width:90%; margin:auto">\n\t\t\t\t<div class="row" style="text-align:center">\n\t\t\t\t\t<div class="col-7">\n\t\t\t\t\t\t<span class="font_m"><b>ニックネーム</b></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-5">\n\t\t\t\t\t\t<span class="font_m"><b>スコア</b></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" style="margin:5px 0" />\n\t\t\t\t<div v-for="(scoreData, index) in this.modalScoreList" :key="index">\n\t\t\t\t\t<div class="row" style="text-align:left">\n\t\t\t\t\t<div class="col-7" style="text-align:center">\n\t\t\t\t\t\t\t<span class="font_m">{{scoreData.name}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-5" style="text-align:right">\n\t\t\t\t\t\t\t<span class="font_m">{{scoreTen(scoreData.score, scoreData.q_count)}}点({{scoreData.score}} / {{ scoreData.q_count }})</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="text-align:right">\n\t\t\t\t\t\t<span class="font_s">{{ scoreTime(scoreData.time) }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-show="index != this.modalScoreList.length - 1" class="grayBar" style="margin:5px 0" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div v-show="kbn == \'LINK\'">\n\t\t\t\t<div v-for="(url, index) in this.modalLinkList" :key="index" style="width:100%;" v-on:click="pushModalLink(url)">\n\t\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer">\n\t\t\t\t\t\t<div class="col-10" style="display:flex; vertical-align:middle">\n\t\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + this.$root.snsIcon(url) + \'.png\'" style="width:30px; height:30px;vertical-align:middle">\n\t\t\t\t\t\t\t<span class="font_s" style="vertical-align:middle">{{url}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grayBar" v-show="this.modalLinkList.length != 1 && index != this.modalLinkList.length - 1" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-show="this.kbn == \'CATEGORY\'">\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(0)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_personal.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">パーソナル</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(1)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_like.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">好き / 嫌い</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(2)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_entertainment.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">エンタメ</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(3)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_hoby.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">趣味 / 特技</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(4)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_episode.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">エピソード</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="grayBar" />\n\t\t\t\t<div class="row" style="text-align:left; height:40px; padding:5px; cursor:pointer"  v-on:click="pushCategory(5)">\n\t\t\t\t\t<div class="col-10" style="display:flex">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'icon_category_lifestyle.png\'" style="width:30px; height:30px;">\n\t\t\t\t\t\t<span class="font_m" style="margin:5px 0 0 10px">ライフスタイル</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="col-2">\n\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div v-show="this.kbn == \'TEMPLATE\'">\n\t\t\t\t<div v-for="(tempData, index) in this.modalTemplateList" :key="index" v-on:click="pushTemplate(tempData.temp_body)" style="padding:0px 10px">\n\t\t\t\t\t<div class="container-fluid">\n\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t<div class="col-10" style="text-align:left">\n\t\t\t\t\t\t\t\t<span class="font_m">{{tempData.temp_body}}</span>\n\t\t\t\t\t\t\t\t<img v-show="tempData.special != 0" :src="temp_mark_src(tempData.special)" style="width:25px; height: 17px; margin-left:10px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="col-2" style="text-align:right">\n\t\t\t\t\t\t\t\t<img :src="this.$root.IMG_PATH + \'btn_link_arrow.png\'" style="height:30px">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grayBar" v-show="index != this.modalTemplateList.length - 1" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-show="this.kbn != \'NICKNAME\'">\n\t\t\t\t<div class="sp_line_xl" />\n\t\t\t\t<div v-show="this.kbn == \'TEMPLATE\'">\n\t\t\t\t\t<button type="button" v-on:click="backCategory" class="btnBase" style="width:90%">カテゴリーに戻る</button>\n\t\t\t\t\t<div class="sp_line_m" />\n\t\t\t\t</div>\n\t\t\t\t<button v-on:click="closeModal()" class="btnBase" style="width:90%">{{ closeBtnName }}</button>\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t</div>\n\t',data:function(){return{kbn:"",body:"",nickName:"",modalLinkList:[],modalAllTemplateList:[],modalTemplateList:[],modalScoreList:[],isShowModal:!1,selCategoryIndex:-1}},computed:{temp_mark_src:function(){var t=this;return function(e){var s=t.$root.IMG_PATH+"mark/";return 1==e?(console.log(s+"temp_osusume.png"),s+"temp_osusume.png"):2==e?(console.log(s+"temp_tyuui.png"),s+"temp_tyuui.png"):""}},scoreTen:function(){return function(t,e){return Math.floor(t/e*100)}},scoreTime:function(){return function(t){console.log(t);var e=new Date(t),s=e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes();return("0"+s).slice(-2)+"/"+("0"+i).slice(-2)+" "+("0"+n).slice(-2)+":"+("0"+o).slice(-2)}},modalTitle:function(){if("LINK"==this.kbn)return"リンクを選択";if("COPY"==this.kbn)return"";if("CATEGORY"==this.kbn)return"カテゴリー選択";if("TEMPLATE"==this.kbn){if(0==this.selCategoryIndex)return"パーソナル";if(1==this.selCategoryIndex)return"好き/嫌い";if(2==this.selCategoryIndex)return"エンタメ";if(3==this.selCategoryIndex)return"趣味/特技";if(4==this.selCategoryIndex)return"エピソード";if(5==this.selCategoryIndex)return"ライフスタイル"}else{if("SCORE"==this.kbn)return"みんなのスコア";if("NICKNAME"==this.kbn)return"ニックネーム"}},closeBtnName:function(){return"UPDATE"==this.kbn?"TOPに戻る":"閉じる"}},methods:{test:function(){console.log("test")},showModal:function(t){document.getElementById("body").className="modalBg",this.kbn=t,this.isShowModal=!0},pushModalLink:function(t){window.open(t,"_blank")},stopModalEvent:function(t){t.stopPropagation()},pushCategory:function(t){console.log(t),this.modalTemplateList=[];for(var e=0;e<this.modalAllTemplateList.length;e++)console.log(this.modalAllTemplateList[e].category+" "+t),this.modalAllTemplateList[e].category==t&&this.modalTemplateList.push(this.modalAllTemplateList[e]);this.selCategoryIndex=t,this.kbn="TEMPLATE"},pushTemplate:function(t){console.log(this.$router),this.closeModal(!1),this.$emit("pushTemp",t)},pushPlay:function(t){this.closeModal(!1),this.$emit("pushPlay",t,this.nickName)},closeModal:function(){document.getElementById("body").className="",console.log(this.kbn),this.isShowModal=!1,console.log(this.kbn),"UPDATE"==this.kbn&&this.$router.push("/")},closeOverlay:function(t){if("overlay"==t.target.id){if("UPDATE"==this.kbn||"NICKNAME"==this.kbn)return;this.isShowModal=!1}},backCategory:function(){this.kbn="CATEGORY"}}};Object(i["a"])(x).component("quiz-title-row",Gn).component("popup-window",Qn).use(Hn,O.a).mount("#app")},a169:function(t,e,s){"use strict";s("22e2")}});
//# sourceMappingURL=app.62f19c27.js.map